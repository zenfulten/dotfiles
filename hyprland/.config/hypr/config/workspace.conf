
##############################
### WINDOWS AND WORKSPACES ###
##############################
# NOTES: This is only for Hyprland > 0.48

# IMPORTANT: Hyprland configuration files are sensitive to syntax.
# Each 'windowrule' and 'layerrule' must typically be on its own line.
# Regular expressions for 'class' and 'title' can use '|' for OR conditions.

# Window Rules

# --- Tagging applications for consistent behavior ---
# These rules assign a 'tag' to windows based on their class or title.
# Tags allow for grouping similar applications to apply common settings.

# Browser Tags
windowrule = tag +browser, class:^([Ff]irefox)$
windowrule = tag +browser, class:^(org.mozilla.firefox)$
windowrule = tag +browser, class:^([Ff]irefox-esr)$
windowrule = tag +browser, class:^([Ff]irefox-bin)$
windowrule = tag +browser, class:^([Gg]oogle-chrome(-beta|-dev|-unstable)?)$
windowrule = tag +browser, class:^(chrome-.+-Default)$ # Chrome PWAs
windowrule = tag +browser, class:^([Cc]hromium)$
windowrule = tag +browser, class:^([Mm]icrosoft-edge(-stable|-beta|-dev|-unstable))$
windowrule = tag +browser, class:^(Brave-browser(-beta|-dev|-unstable)?)$
windowrule = tag +browser, class:^([Tt]horium-browser)$
windowrule = tag +browser, class:^([Cc]achy-browser)$
windowrule = tag +browser, class:^(zen-alpha)$
windowrule = tag +browser, class:^(zen)$

# Notification Tags
windowrule = tag +notif, class:^(swaync-control-center)$
windowrule = tag +notif, class:^(swaync-notification-window)$
windowrule = tag +notif, class:^(swaync-client)$

# KooL Settings Tags (Specific titles and classes for custom tools)
windowrule = tag +KooL_Cheat, title:^(KooL Quick Cheat Sheet)$
windowrule = tag +KooL_Settings, title:^(KooL Hyprland Settings)$
windowrule = tag +KooL_Settings, class:^(nwg-displays)$
windowrule = tag +KooL_Settings, class:^(nwg-look)$

# Terminal Tags
windowrule = tag +terminal, class:^(Alacritty)$
windowrule = tag +terminal, class:^(kitty)$
windowrule = tag +terminal, class:^(kitty-dropterm)$

# Email Tags
windowrule = tag +email, class:^([Tt]hunderbird)$
windowrule = tag +email, class:^(org.gnome.Evolution)$
windowrule = tag +email, class:^(eu.betterbird.Betterbird)$

# Project/IDE Tags
windowrule = tag +projects, class:^(codium)$
windowrule = tag +projects, class:^(codium-url-handler)$
windowrule = tag +projects, class:^(VSCodium)$
windowrule = tag +projects, class:^(VSCode)$
windowrule = tag +projects, class:^(code-url-handler)$
windowrule = tag +projects, class:^(jetbrains-.+)$ # JetBrains IDEs

# Screenshare Tags
windowrule = tag +screenshare, class:^(com.obsproject.Studio)$

# Instant Messaging (IM) Tags
windowrule = tag +im, class:^([Dd]iscord)$
windowrule = tag +im, class:^([Ww]ebCord)$
windowrule = tag +im, class:^([Vv]esktop)$
windowrule = tag +im, class:^([Ff]erdium)$
windowrule = tag +im, class:^([Ww]hatsapp-for-linux)$
windowrule = tag +im, class:^(ZapZap)$
windowrule = tag +im, class:^(com.rtosta.zapzap)$
windowrule = tag +im, class:^(org.telegram.desktop)$
windowrule = tag +im, class:^(io.github.tdesktop_x64.TDesktop)$
windowrule = tag +im, class:^(teams-for-linux)$
windowrule = tag +im, class:^(im.riot.Riot)$ # Element matrix client

# Game Tags
windowrule = tag +games, class:^(gamescope)$
windowrule = tag +games, class:^(steam_app_\d+)$

# Game Store Tags
windowrule = tag +gamestore, class:^([Ss]team)$
windowrule = tag +gamestore, title:^([Ll]utris)$
windowrule = tag +gamestore, class:^(com.heroicgameslauncher.hgl)$

# File Manager Tags
windowrule = tag +file-manager, class:^([Tt]hunar)$
windowrule = tag +file-manager, class:^(org.gnome.Nautilus)$
windowrule = tag +file-manager, class:^([Pp]cmanfm-qt)$
windowrule = tag +file-manager, class:^(app.drey.Warp)$

# Wallpaper Tags
windowrule = tag +wallpaper, class:^([Ww]aytrogen)$

# Multimedia Tags
windowrule = tag +multimedia, class:^([Aa]udacious)$
windowrule = tag +multimedia_video, class:^([Mm]pv)$
windowrule = tag +multimedia_video, class:^(vlc)$

# Settings & Utilities Tags
windowrule = tag +settings, title:^(ROG Control)$
windowrule = tag +settings, class:^(wihotspot(-gui)?)$ # wifi hotspot
windowrule = tag +settings, class:^([Bb]aobab)$
windowrule = tag +settings, class:^(org.gnome.[Bb]aobab)$ # Disk usage analyzer
windowrule = tag +settings, class:^(gnome-disks)$
windowrule = tag +settings, title:(Kvantum Manager)$
windowrule = tag +settings, class:^(file-roller)$ # archive manager
windowrule = tag +settings, class:^(org.gnome.FileRoller)$
windowrule = tag +settings, class:^(nm-applet)$
windowrule = tag +settings, class:^(nm-connection-editor)$
windowrule = tag +settings, class:^(blueman-manager)$
windowrule = tag +settings, class:^(pavucontrol)$
windowrule = tag +settings, class:^(org.pulseaudio.pavucontrol)$
windowrule = tag +settings, class:^(com.saivert.pwvucontrol)$
windowrule = tag +settings, class:^(qt5ct)$
windowrule = tag +settings, class:^(qt6ct)$
windowrule = tag +settings, class:^([Yy]ad)$
windowrule = tag +settings, class:(xdg-desktop-portal-gtk)$
windowrule = tag +settings, class:^(org.kde.polkit-kde-authentication-agent-1)$
windowrule = tag +settings, class:^([Rr]ofi)$
windowrule = tag +settings, class:^(seahorse)$ # gnome-keyring gui

# Viewer Tags
windowrule = tag +viewer, class:^(gnome-system-monitor)$ # system monitor
windowrule = tag +viewer, class:^(org.gnome.SystemMonitor)$
windowrule = tag +viewer, class:^(io.missioncenter.MissionCenter)$
windowrule = tag +viewer, class:^(evince)$ # document viewer
windowrule = tag +viewer, class:^(eog)$ # image viewer
windowrule = tag +viewer, class:^(org.gnome.Loupe)$

# Editor Tags (for simple text editors)
windowrule = tag +editor, class:^(gedit)$
windowrule = tag +editor, class:^(org.gnome.TextEditor)$
windowrule = tag +editor, class:^(mousepad)$

# Download Manager Tags
windowrule = tag +downloads, class:^(deluge)$

# --- Special Override Rules ---
# These rules apply specific behaviors that might override general tag rules.

# Multimedia Video specific overrides
windowrule = noblur, tag:multimedia_video
windowrule = opacity 1.0, tag:multimedia_video

# Picture-in-Picture (PiP) specific rules: float, pin, keep aspect ratio, opacity, and position
windowrule = float, title:^(Picture-in-Picture)$
windowrule = pin, title:^(Picture-in-Picture)$
windowrule = keepaspectratio, title:^(Picture-in-Picture)$
windowrule = opacity 0.95 0.75, title:^(Picture-in-Picture)$
windowrule = move 72% 7%, title:^(Picture-in-Picture)$
# If you want a specific size for PiP:
# windowrule = size 25% 25%, title:^(Picture-in-Picture)$

# --- Positioning Rules ---
# These rules define where windows appear on the screen.

# Center specific floating windows
windowrule = center, tag:KooL_Cheat
windowrule = center, tag:KooL_Settings
windowrule = center, class:([Tt]hunar), title:negative:(.*[Tt]hunar.*) # Thunar popups
windowrule = center, title:^(ROG Control)$
windowrule = center, class:^(pavucontrol)$
windowrule = center, class:^(org.pulseaudio.pavucontrol)$
windowrule = center, class:^(com.saivert.pwvucontrol)$
windowrule = center, class:^([Ww]hatsapp-for-linux)$
windowrule = center, class:^(ZapZap)$
windowrule = center, class:^(com.rtosta.zapzap)$
windowrule = center, class:^([Ff]erdium)$
windowrule = center, title:^(Keybindings)$
windowrule = center, title:^(Authentication Required)$
windowrule = center, title:^(SDDM Background)$
windowrule = center, initialTitle:(Open Files)$
windowrule = center, title:^(Add Folder to Workspace)$
windowrule = center, title:^(Save As)$

# --- Workspace Assignment Rules ---
# These rules automatically move applications to specific workspaces upon launch.

windowrule = workspace 1, tag:email
windowrule = workspace 2, tag:browser
windowrule = workspace 3, tag:projects # Keep projects in one place
windowrule = workspace 5, tag:gamestore
windowrule = workspace 7, tag:im
windowrule = workspace 8, tag:games

# Silent workspace assignment (moves without switching focus to the workspace)
windowrule = workspace 4 silent, tag:screenshare
windowrule = workspace 6 silent, class:^(virt-manager)$
windowrule = workspace 6 silent, class:^(.virt-manager-wrapped)$
windowrule = workspace 9 silent, tag:multimedia

# --- Floating Window Rules ---
# These rules force certain windows to float instead of tile.

windowrule = float, tag:KooL_Cheat
windowrule = float, tag:wallpaper
windowrule = float, tag:settings
windowrule = float, tag:viewer
windowrule = float, class:([Zz]oom)$
windowrule = float, class:(onedriver)$
windowrule = float, class:(onedriver-launcher)$
windowrule = float, class:(org.gnome.Calculator)$
windowrule = float, class:^(mpv)$
windowrule = float, class:^(com.github.rafostar.Clapper)$
windowrule = float, class:^([Qq]alculate-gtk)$
windowrule = float, class:^([Ww]hatsapp-for-linux)$
windowrule = float, class:^(ZapZap)$
windowrule = float, class:^(com.rtosta.zapzap)$
windowrule = float, class:^([Ff]erdium)$

# Float popups and dialogues (more generic approach for robustness)
# These rules target windows that are likely transient dialogues or pop-ups.
windowrule = float, title:^(Open File)$
windowrule = float, title:^(Save File)$
windowrule = float, title:^(Choose Folder)$
windowrule = float, title:^(Properties)$
windowrule = float, title:^(About)$
windowrule = float, title:^(Preferences)$
windowrule = float, title:^(Settings)$
windowrule = float, initialTitle:(.*dialog|.*Dialog|.*popup|.*Popup)$ # Catch common dialog patterns
windowrule = float, title:^(Authentication Required)$
windowrule = float, title:^(Add Folder to Workspace)$
windowrule = float, title:^(Save As)$
windowrule = float, initialTitle:(Open Files)
windowrule = float, class:(codium|codium-url-handler|VSCodium), title:negative:(.*codium.*|.*VSCodium.*) # VSCodium popups
windowrule = float, class:^(com.heroicgameslauncher.hgl)$, title:negative:(Heroic Games Launcher) # Heroic popups
windowrule = float, class:^([Ss]team)$, title:negative:^([Ss]team)$ # Steam popups
windowrule = float, class:([Tt]hunar), title:negative:(.*[Tt]hunar.*) # Thunar popups

# --- Sizing for Floating Windows ---
# These rules define the size of specific floating windows.

windowrule = size 70% 60%, title:^(Add Folder to Workspace)$
windowrule = size 70% 60%, title:^(Save As)$
windowrule = size 70% 60%, initialTitle:(Open Files)
windowrule = size 65% 90%, tag:KooL_Cheat
windowrule = size 70% 70%, tag:wallpaper
windowrule = size 70% 70%, tag:settings
windowrule = size 60% 70%, class:^([Ww]hatsapp-for-linux)$
windowrule = size 60% 70%, class:^(ZapZap)$
windowrule = size 60% 70%, class:^(com.rtosta.zapzap)$
windowrule = size 60% 70%, class:^([Ff]erdium)$
windowrule = size 16% 12%, title:^(SDDM Background)$

# --- Opacity Rules ---
# These rules set the opacity for windows, both active and inactive.

windowrule = opacity 1.0 1.0, tag:browser
windowrule = opacity 0.9 0.8, tag:projects
windowrule = opacity 0.94 0.86, tag:im
windowrule = opacity 0.94 0.86, tag:multimedia
windowrule = opacity 0.9 0.8, tag:file-manager
windowrule = opacity 0.8 0.7, tag:terminal
windowrule = opacity 0.8 0.7, tag:settings
windowrule = opacity 0.82 0.75, tag:viewer
windowrule = opacity 0.9 0.7, tag:wallpaper
windowrule = opacity 0.8 0.7, tag:editor
windowrule = opacity 0.9 0.8, tag:downloads
windowrule = opacity 0.9 0.8, class:^(deluge)$ # Redundant if using tag, but kept for clarity
windowrule = opacity 0.9 0.8, class:^(im.riot.Riot)$ # Redundant if using tag, but kept for clarity
windowrule = opacity 1.0 1.0, class:^([Rr]ofi)$

# --- Fullscreen Behavior & Idle Inhibit ---
# Rules for fullscreen applications and preventing idle behavior.

windowrule = noblur, tag:games
windowrule = fullscreen, tag:games
windowrule = idleinhibit fullscreen, fullscreen:1
windowrule = opacity 1.0 1.0, fullscreen:1

# --- Border Colors ---
# Custom border colors for fullscreen and floating windows.

windowrule = bordercolor rgb(EE4B55) rgb(880808), fullscreen:1
windowrule = bordercolor rgb(282737) rgb(1E1D2D), floating:1
windowrule = opacity 0.8 0.8, pinned:1

# --- Layer Rules (for Wayland protocols like popups, notifications) ---
# These rules apply to specific Hyprland layers, often for popups or notifications.

layerrule = blur, class:^([Rr]ofi)$
layerrule = ignorezero, class:^([Rr]ofi)$ # Prevents layer rule from applying to invisible parts
layerrule = unset, class:^([Rr]ofi)$ # Ensures other rules don't interfere after blur/ignorezero

layerrule = blur, notifications
layerrule = ignorezero, notifications

layerrule = ignorezero, overview
layerrule = blur, overview

